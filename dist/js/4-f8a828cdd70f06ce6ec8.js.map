{"version":3,"sources":["webpack:///./src/views/active/add.vue?20d7","webpack:///./src/views/active/add.vue?3962","webpack:///src/views/active/add.vue","webpack:///./src/views/active/add.vue?7629","webpack:///./src/views/active/add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","option","model","value","obj","callback","$$v","expression","_v","upload","text","type","size","on","click","$event","save","_withStripped","data","lms","label","show","action","props","res","name","url","created","getlm","getlabel","computed","emptyBtn","enter","submitBtn","column","methods","test","$confirm","confirmButtonText","cancelButtonText","$message","error","$httpajax","component","options","__file"],"mappings":"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","file":"js/4-f8a828cdd70f06ce6ec8.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=7622089c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=7622089c&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"page_\" },\n    [\n      _c(\"avue-form\", {\n        ref: \"formData\",\n        attrs: { option: _vm.option },\n        model: {\n          value: _vm.obj,\n          callback: function($$v) {\n            _vm.obj = $$v\n          },\n          expression: \"obj\"\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"fbw\" },\n        [\n          _c(\"avue-ueditor\", {\n            attrs: { upload: _vm.upload },\n            model: {\n              value: _vm.text,\n              callback: function($$v) {\n                _vm.text = $$v\n              },\n              expression: \"text\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"btn\" },\n        [\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\", size: \"medium\" },\n              on: {\n                click: function($event) {\n                  return _vm.save()\n                }\n              }\n            },\n            [_vm._v(\"发表\")]\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page_\">\n    <avue-form ref=\"formData\" v-model=\"obj\" :option=\"option\"></avue-form>\n    <div class=\"fbw\">\n      <avue-ueditor v-model=\"text\" :upload=\"upload\"></avue-ueditor>\n    </div>\n    <div class=\"btn\">\n      <!-- <el-button size=\"medium\">保存为草稿</el-button> -->\n      <el-button type=\"primary\" size=\"medium\" @click=\"save()\">发表</el-button>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.page_ {\n  margin-top: 20px;\n  padding: 0 20px;\n  .fbw,\n  .btn {\n    padding: 0 10px;\n  }\n  .btn {\n    float: right;\n    margin-top: 30px;\n  }\n}\n</style>\n<script>\nexport default {\n  data() {\n    return {\n      lms: [],\n      label: [],\n      obj: {\n        show: \"1\"\n      },\n      text: \"\",\n      upload: {\n        action: \"/app.php/home/UploadImg/index\",\n        props: {\n          res: \"data\",\n          name: \"label\",\n          url: \"value\"\n        }\n      }\n    };\n  },\n  created() {\n    this.getlm();\n    this.getlabel();\n  },\n  computed: {\n    option() {\n      return {\n        emptyBtn: false,\n        enter: false,\n        submitBtn: false,\n        column: [\n          {\n            label: \"文章标题\",\n            prop: \"name\",\n            span: 12,\n            rules: [\n              {\n                required: true,\n                message: \"请输入姓名\",\n                trigger: \"blur\"\n              }\n            ]\n          },\n          {\n            label: \"栏目\",\n            prop: \"type\",\n            span: 12,\n            type: \"select\",\n            dicData: this.lms,\n            rules: [\n              {\n                required: true,\n                message: \"请选择栏目\",\n                trigger: \"blur\"\n              }\n            ]\n          },\n          {\n            label: \"标签\",\n            prop: \"label\",\n            span: 12,\n            type: \"select\",\n            drag: true,\n            multiple: true,\n            dicData: this.label\n          },\n          {\n            label: \"是否隐藏\",\n            prop: \"show\",\n            span: 12,\n            type: \"switch\",\n            dicData: [\n              {\n                label: \"否\",\n                value: \"1\"\n              },\n              {\n                label: \"是\",\n                value: \"0\"\n              }\n            ]\n          }\n        ]\n      };\n    }\n  },\n  methods: {\n    save() {\n      let label = this.obj.label.length>0 ? this.obj.label.join(\",\") : \"\";\n      let { show, name, type } = this.obj;\n      let text = this.text;\n      if (!/\\S/.test(name)) {\n        this.$message.error(\"请填写文章标题\");\n        return;\n      }\n      if (!/\\S/.test(type)) {\n        this.$message.error(\"请选择栏目\");\n        return;\n      }\n      let thiz = this;\n      this.$confirm(\"确认发布吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          thiz.$httpajax\n            .post(\n              \"/app.php/home/Ac/save\",\n              this.$qs.stringify({ label, show, name, type, text })\n            )\n            .then(response => {\n              let res = response.data;\n              if (res.result) {\n                thiz.$message({\n                  message: res.msg,\n                  type: \"success\"\n                });\n\n                thiz.$refs[\"formData\"].resetFields();\n                thiz.text = \"\";\n              } else {\n                thiz.$message.error(res.msg);\n              }\n            })\n            .catch(e => {\n              thiz.$message.error(\"网络错误\");\n              return;\n            });\n        })\n        .catch(() => {});\n    },\n    getlm() {\n      this.data = [];\n      this.$httpajax\n        .post(\"/app.php/home/cloumn/getlist\", this.$qs.stringify({ type: 1 }))\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            let arr = [];\n            let data = res.data;\n            for (let i = 0; i < data.length; i++) {\n              arr.push({\n                label: data[i][\"name\"],\n                value: data[i][\"id\"]\n              });\n            }\n            this.lms = arr;\n          } else {\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    },\n    getlabel() {\n      this.$httpajax\n        .post(\"/app.php/home/label/getlist\", this.$qs.stringify({}))\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            let arr = [];\n            let data = res.data;\n            for (let i = 0; i < data.length; i++) {\n              arr.push({\n                label: data[i][\"name\"],\n                value: data[i][\"id\"]\n              });\n            }\n            this.label = arr;\n          } else {\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=7622089c&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=7622089c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7622089c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/zhouyunnan/Documents/BOKE/node_modules/_vue-hot-reload-api@2.3.4@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7622089c')) {\n      api.createRecord('7622089c', component.options)\n    } else {\n      api.reload('7622089c', component.options)\n    }\n    module.hot.accept(\"./add.vue?vue&type=template&id=7622089c&scoped=true&\", function () {\n      api.rerender('7622089c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/active/add.vue\"\nexport default component.exports"],"sourceRoot":""}