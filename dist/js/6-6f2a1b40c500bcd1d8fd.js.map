{"version":3,"sources":["webpack:///./src/views/active/list.vue?d4cf","webpack:///src/views/active/list.vue","webpack:///./src/views/active/list.vue?9da7","webpack:///./src/views/active/list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","data","option","page","on","$event","save","update","del","getList","size","selectionChange","scopedSlots","_u","key","fn","scope","_l","row","label_arr","label","k","staticStyle","margin","_v","_s","name","model","value","obj","callback","$$v","expression","slot","type","icon","click","dels","_withStripped","show","selectionList","pageSize","pagerCount","total","p","lms","computed","ids","forEach","push","ele","id","join","selection","index","addBtn","align","menuAlign","height","calcHeight","column","created","getlm","getlabel","watch","handler","currentPage","deep","immediate","methods","$httpajax","list","$confirm","confirmButtonText","cancelButtonText","length","$message","error","component","options","__file"],"mappings":"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","file":"js/6-6f2a1b40c500bcd1d8fd.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"avue-crud\",\n        {\n          attrs: { data: _vm.data, option: _vm.option, page: _vm.page },\n          on: {\n            \"update:page\": function($event) {\n              _vm.page = $event\n            },\n            \"row-save\": _vm.save,\n            \"row-update\": _vm.update,\n            \"row-del\": _vm.del,\n            \"refresh-change\": _vm.getList,\n            \"size-change\": _vm.size,\n            \"selection-change\": _vm.selectionChange\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"label\",\n              fn: function(scope) {\n                return _vm._l(scope.row.label_arr, function(label, k) {\n                  return _c(\n                    \"el-tag\",\n                    { key: k, staticStyle: { margin: \"0 2px\" } },\n                    [_vm._v(_vm._s(label.name))]\n                  )\n                })\n              }\n            }\n          ]),\n          model: {\n            value: _vm.obj,\n            callback: function($$v) {\n              _vm.obj = $$v\n            },\n            expression: \"obj\"\n          }\n        },\n        [\n          _c(\n            \"template\",\n            { slot: \"menuLeft\" },\n            [\n              _c(\n                \"el-button\",\n                {\n                  attrs: {\n                    type: \"danger\",\n                    size: \"mini\",\n                    icon: \"el-icon-delete\"\n                  },\n                  on: { click: _vm.dels }\n                },\n                [_vm._v(\"删 除\")]\n              )\n            ],\n            1\n          )\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <avue-crud\n      :data=\"data\"\n      :option=\"option\"\n      v-model=\"obj\"\n      :page.sync=\"page\"\n      @row-save=\"save\"\n      @row-update=\"update\"\n      @row-del=\"del\"\n      @refresh-change=\"getList\"\n      @size-change=\"size\"\n      @selection-change=\"selectionChange\"\n    >\n      <template slot=\"menuLeft\">\n        <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" @click=\"dels\">删 除</el-button>\n      </template>\n      <template slot=\"label\" slot-scope=\"scope\">\n        <el-tag\n          v-for=\"(label,k) in scope.row.label_arr\"\n          :key=\"k\"\n          style=\"margin:0 2px\"\n        >{{label.name}}</el-tag>\n      </template>\n    </avue-crud>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      obj: {\n        show: \"1\"\n      },\n      data: [],\n      selectionList: [],\n      page: {\n        pageSize: 10,\n        pagerCount: 4,\n        total: 0\n      },\n      p: 1,\n      label: [],\n      lms: []\n    };\n  },\n  computed: {\n    ids() {\n      let ids = [];\n      this.selectionList.forEach(ele => {\n        ids.push(ele.id);\n      });\n      return ids.join(\",\");\n    },\n    option() {\n      return {\n        selection: true,\n        index: true,\n        addBtn: false,\n        align: \"center\",\n        menuAlign: \"center\",\n        height: \"auto\",\n        calcHeight: 80,\n        column: [\n          {\n            label: \"文章名称\",\n            prop: \"name\",\n            rules: [\n              {\n                required: true,\n                message: \"请输入文章名称\",\n                trigger: \"blur\"\n              }\n            ]\n          },\n          {\n            label: \"栏目\",\n            prop: \"type\",\n            type: \"select\",\n            dicData: this.lms,\n            rules: [\n              {\n                required: true,\n                message: \"请选择栏目\",\n                trigger: \"blur\"\n              }\n            ]\n          },\n          {\n            label: \"标签\",\n            prop: \"label\",\n            type: \"select\",\n            drag: true,\n            multiple: true,\n            dicData: this.label,\n            slot: true\n          },\n          {\n            label: \"发布时间\",\n            prop: \"createtime\",\n            editDisabled:true,\n            editDisplay:false\n          },\n          {\n            label: \"是否隐藏\",\n            prop: \"show\",\n            type: \"switch\",\n            dicData: [\n              {\n                label: \"否\",\n                value: \"1\"\n              },\n              {\n                label: \"是\",\n                value: \"0\"\n              }\n            ]\n          }\n        ]\n      };\n    }\n  },\n  created() {\n    this.getlm();\n    this.getlabel();\n  },\n  watch: {\n    page: {\n      handler() {\n        if (this.page.currentPage) {\n          this.p = this.page.currentPage;\n          this.getList();\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    getlm() {\n      this.data = [];\n      this.$httpajax\n        .post(\"/app.php/home/cloumn/getlist\", this.$qs.stringify({ type: 1 }))\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            let arr = [];\n            let data = res.data;\n            for (let i = 0; i < data.length; i++) {\n              arr.push({\n                label: data[i][\"name\"],\n                value: data[i][\"id\"]\n              });\n            }\n            this.lms = arr;\n          } else {\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    },\n    getlabel() {\n      this.$httpajax\n        .post(\"/app.php/home/label/getlist\", this.$qs.stringify({}))\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            let arr = [];\n            let data = res.data;\n            for (let i = 0; i < data.length; i++) {\n              arr.push({\n                label: data[i][\"name\"],\n                value: data[i][\"id\"]\n              });\n            }\n            this.label = arr;\n          } else {\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    },\n    selectionChange(list) {\n      this.selectionList = list;\n    },\n    size(pageSize) {\n      this.getList();\n    },\n    save(row, done, loading) {\n      let { name, color } = this.obj;\n      this.$httpajax\n        .post(\"/app.php/home/label/save\", this.$qs.stringify({ name, color }))\n        .then(response => {\n          loading();\n          done();\n          this.dnzt = false;\n          let re = response.data;\n          if (re.result) {\n            this.$message({\n              message: re.msg,\n              type: \"success\"\n            });\n            this.getList();\n          } else {\n            this.$message.error(re.msg);\n            return;\n          }\n        })\n        .catch(() => {\n          loading();\n          done();\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    },\n    update(row, index, done, loading) {\n      let { type, show, name,id} = this.obj;\n      let label = this.obj.label.length>0 ? this.obj.label.join(\",\") : \"\";\n      this.$httpajax\n        .post(\n          \"/app.php/home/ac/update\",\n          this.$qs.stringify({ label, type, show, name,id })\n        )\n        .then(response => {\n          loading();\n          done();\n          this.dnzt = false;\n          let re = response.data;\n          if (re.result) {\n            this.$message({\n              message: re.msg,\n              type: \"success\"\n            });\n            this.getList();\n          } else {\n            this.$message.error(re.msg);\n            return;\n          }\n        })\n        .catch(() => {\n          loading();\n          done();\n          this.$message.error(\"网络错误\");\n          return;\n        });\n    },\n    getList() {\n      this.data = [];\n      let { pageSize } = this.page;\n      let { p } = this;\n      this.$httpajax\n        .post(\"/app.php/home/Ac/getlist\", this.$qs.stringify({ pageSize, p }))\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            this.data = res.list;\n            this.page.total = Number(res.total);\n          } else {\n          }\n        })\n        .catch(e => {\n          this.$message.error(e);\n          return;\n        });\n    },\n    del(row, index) {\n      let thiz = this;\n      this.$confirm(\"确认操作删除？, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$httpajax\n            .post(\"/app.php/home/ac/delete\", this.$qs.stringify({ id: row.id }))\n            .then(response => {\n              let res = response.data;\n              if (res.result) {\n                this.$message({\n                  message: res.msg,\n                  type: \"success\"\n                });\n                thiz.getList();\n              } else {\n              }\n            })\n            .catch(e => {\n              this.$message.error(\"网络错误\");\n              return;\n            });\n        })\n        .catch(() => {});\n    },\n    dels() {\n      if (this.selectionList.length < 1) {\n        this.$message.error(\"请至少选择一条数据！\");\n        return;\n      }\n      let thiz = this;\n      this.$confirm(\"确认删除选中文章？, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$httpajax\n            .post(\n              \"/app.php/home/ac/deletes\",\n              this.$qs.stringify({ ids: thiz.ids })\n            )\n            .then(response => {\n              let res = response.data;\n              if (res.result) {\n                thiz.$message({\n                  message: res.msg,\n                  type: \"success\"\n                });\n                thiz.getList();\n              } else {\n              }\n            })\n            .catch(e => {\n              thiz.$message.error(\"网络错误\");\n              return;\n            });\n        })\n        .catch(() => {});\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=756efa5d&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/zhouyunnan/Documents/BOKE/node_modules/_vue-hot-reload-api@2.3.4@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('756efa5d')) {\n      api.createRecord('756efa5d', component.options)\n    } else {\n      api.reload('756efa5d', component.options)\n    }\n    module.hot.accept(\"./list.vue?vue&type=template&id=756efa5d&\", function () {\n      api.rerender('756efa5d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/active/list.vue\"\nexport default component.exports"],"sourceRoot":""}