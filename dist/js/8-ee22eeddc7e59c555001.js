(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{66:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("avue-crud",{attrs:{data:t.data,option:t.option},on:{"row-save":t.save,"row-update":t.update,"row-del":t.del,"refresh-change":t.getList},model:{value:t.obj,callback:function(e){t.obj=e},expression:"obj"}})],1)};a._withStripped=!0;var n={data:function(){return{obj:{show:"1"},data:[],option:{page:!1,align:"center",menuAlign:"center",column:[{label:"名称",prop:"name",rules:[{required:!0,message:"请输入网站名称",trigger:"blur"}]},{label:"超链接",prop:"url",type:"url"},{label:"创建日期",prop:"createtime",editDisplay:!1,addDisplay:!1}]}}},created:function(){this.getList()},methods:{save:function(t,e,s){var a=this,n=this.obj,i=n.name,r=n.url;this.$httpajax.post("/app.php/home/link/save",this.$qs.stringify({name:i,url:r})).then((function(t){s(),e(),a.dnzt=!1;var n=t.data;n.result?(a.$message({message:n.msg,type:"success"}),a.getList()):a.$message.error(n.msg)})).catch((function(){s(),e(),a.$message.error("网络错误")}))},update:function(t,e,s,a){var n=this,i=this.obj,r=i.name,o=i.url,c=i.id;this.$httpajax.post("/app.php/home/link/update",this.$qs.stringify({id:c,name:r,url:o})).then((function(t){a(),s(),n.dnzt=!1;var e=t.data;e.result?(n.$message({message:e.msg,type:"success"}),n.getList()):n.$message.error(e.msg)})).catch((function(){a(),s(),n.$message.error("网络错误")}))},getList:function(){var t=this;this.data=[],this.$httpajax.post("/app.php/home/link/getlist",this.$qs.stringify({})).then((function(e){var s=e.data;s.result&&(t.data=s.data)})).catch((function(){t.$message.error("网络错误")}))},del:function(t,e){var s=this,a=this;this.$confirm("此操作将永久删除该栏目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s.$httpajax.post("/app.php/home/link/delete",s.$qs.stringify({id:t.id})).then((function(t){var e=t.data;e.result&&(s.$message({message:e.msg,type:"success"}),a.getList())})).catch((function(t){s.$message.error("网络错误")}))})).catch((function(){}))}}},i=s(3),r=Object(i.a)(n,a,[],!1,null,null,null);r.options.__file="src/views/links/index.vue";e.default=r.exports}}]);
//# sourceMappingURL=8-ee22eeddc7e59c555001.js.map